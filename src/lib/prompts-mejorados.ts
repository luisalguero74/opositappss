/**
 * PROMPTS MEJORADOS PARA GENERACI칍N DE PREGUNTAS
 * Basados en ex치menes oficiales reales C1 Administrativos SS
 */

export const EJEMPLOS_PREGUNTAS_OFICIALES = `
## EJEMPLOS DE PREGUNTAS DE EX츼MENES OFICIALES REALES

Estas son preguntas REALES de ex치menes de 2022-2024. DEBES generar preguntas con este EXACTO nivel de rigor:

### EJEMPLO 1 - LGSS (Examen 2024):
Pregunta: "Conforme al art칤culo 205.1.a) del Real Decreto Legislativo 8/2015, de 30 de octubre, 쯤u칠 porcentaje de la base reguladora corresponde aplicar para el c치lculo de la pensi칩n de jubilaci칩n a quien acceda a la misma con 65 a침os de edad y acredite 38 a침os y 6 meses de cotizaci칩n efectiva?"

a) El 100 por 100
b) El 97 por 100
c) El 95 por 100  
d) El 50 por 100 m치s un 3 por 100 adicional por cada a침o completo de cotizaci칩n

Respuesta correcta: a) El 100 por 100

Motivaci칩n: "El art칤culo 205.1.a) del RDL 8/2015 establece textualmente: 'Cuando se acceda a la pensi칩n de jubilaci칩n a los sesenta y cinco a침os de edad, ser치 necesario tener acreditados treinta y ocho a침os y seis meses de cotizaci칩n para la obtenci칩n del cien por cien de la base reguladora'. Por tanto, cumpliendo ambos requisitos (65 a침os de edad y 38,5 a침os cotizados), corresponde aplicar el 100% de la base reguladora. La opci칩n b) ser칤a incorrecta ya que el 97% corresponde a 37 a침os cotizados con 65 a침os de edad. La opci칩n c) no tiene correspondencia con ning칰n supuesto del art칤culo 205. La opci칩n d) hace referencia al sistema de c치lculo anterior, derogado."

---

### EJEMPLO 2 - Constituci칩n (Examen 2023):
Pregunta: "Seg칰n el art칤culo 149.1.17춹 de la Constituci칩n Espa침ola, 쯤u칠 competencia tiene el Estado en materia de Seguridad Social?"

a) Competencia exclusiva sin perjuicio de la ejecuci칩n de sus servicios por las Comunidades Aut칩nomas
b) Competencia compartida con las Comunidades Aut칩nomas
c) Legislaci칩n b치sica y r칠gimen econ칩mico, correspondiendo la ejecuci칩n a las Comunidades Aut칩nomas
d) Competencia plena sin ning칰n tipo de participaci칩n auton칩mica

Respuesta correcta: a) Competencia exclusiva sin perjuicio de la ejecuci칩n de sus servicios por las Comunidades Aut칩nomas

Motivaci칩n: "El art칤culo 149.1.17춹 de la CE establece que el Estado tiene competencia exclusiva sobre 'legislaci칩n b치sica y r칠gimen econ칩mico de la Seguridad Social, sin perjuicio de la ejecuci칩n de sus servicios por las Comunidades Aut칩nomas'. Esto significa que, aunque el Estado tiene la competencia legislativa exclusiva (opci칩n a correcta), las CCAA pueden ejecutar los servicios. La opci칩n b) es incorrecta porque no es competencia compartida. La opci칩n c) confunde la f칩rmula de otras materias. La opci칩n d) es incorrecta porque s칤 hay participaci칩n auton칩mica en la ejecuci칩n."

---

### EJEMPLO 3 - LGSS Afiliaci칩n (Examen 2024):
Pregunta: "De acuerdo con el art칤culo 13.2 del RDL 8/2015, 쯤u칠 efectos produce la afiliaci칩n de un trabajador?"

a) Efectos 칰nicamente durante la vigencia de la relaci칩n laboral
b) Efectos limitados a un a침o tras la finalizaci칩n del contrato
c) Efectos que se mantienen durante toda la vida del trabajador, sin necesidad de renovaci칩n
d) Efectos que requieren renovaci칩n anual

Respuesta correcta: c) Efectos que se mantienen durante toda la vida del trabajador, sin necesidad de renovaci칩n

Motivaci칩n: "El art칤culo 13.2 del RDL 8/2015 establece el principio de 'afiliaci칩n 칰nica y vitalicia'. Textualmente: 'La afiliaci칩n al Sistema de la Seguridad Social es obligatoria, 칰nica para toda la vida y para todo el sistema y con car치cter general, se efectuar치 mediante la asignaci칩n al interesado de un n칰mero de la Seguridad Social'. Por tanto, la afiliaci칩n no caduca ni requiere renovaci칩n (opci칩n c correcta). Las opciones a) y b) son incorrectas porque limitan temporalmente los efectos. La opci칩n d) contradice el car치cter vitalicio establecido en la norma."

---

### EJEMPLO 4 - Procedimiento Administrativo (Examen 2023):
Pregunta: "Seg칰n el art칤culo 21.1 de la Ley 39/2015, del Procedimiento Administrativo Com칰n, 쯖u치l es el plazo m치ximo para dictar y notificar la resoluci칩n en un procedimiento administrativo cuando no se establezca un plazo espec칤fico?"

a) Un mes
b) Tres meses
c) Seis meses
d) Un a침o

Respuesta correcta: c) Seis meses

Motivaci칩n: "El art칤culo 21.1 de la Ley 39/2015 establece: 'El plazo m치ximo en el que debe notificarse la resoluci칩n ser치 el fijado por la norma reguladora del correspondiente procedimiento. Este plazo no podr치 exceder de seis meses salvo que una norma con rango de ley establezca uno mayor'. Por tanto, cuando no existe plazo espec칤fico, se aplica el plazo m치ximo general de 6 meses (opci칩n c). La opci칩n a) es incorrecta, aunque un mes es el plazo para algunos procedimientos espec칤ficos. La opci칩n b) de 3 meses es un plazo com칰n pero no el m치ximo general. La opci칩n d) de un a침o excede el m치ximo salvo ley especial."

---

## CARACTER칈STICAS COMUNES DE ESTAS PREGUNTAS:

1. **Citas exactas de art칤culos:** "art칤culo 205.1.a)", "art칤culo 149.1.17춹"
2. **Referencias al rango normativo:** "RDL 8/2015", "Constituci칩n Espa침ola"
3. **Lenguaje formal:** "Conforme a", "De acuerdo con", "Seg칰n"
4. **Opciones num칠ricamente precisas:** porcentajes exactos, plazos concretos
5. **Motivaciones que:**
   - Citan textualmente la norma (entrecomillado)
   - Explican por qu칠 la correcta es v치lida
   - Explican por qu칠 cada incorrecta falla
   - Usan referencias cruzadas cuando procede

GENERA PREGUNTAS CON ESTE EXACTO NIVEL DE RIGOR Y PRECISI칍N.
`

export const PROMPT_MEJORADO_LGSS = (numPreguntas: number) => `
${EJEMPLOS_PREGUNTAS_OFICIALES}

---

## TU TAREA

Genera ${numPreguntas} preguntas ID칄NTICAS en estilo y rigor a los ejemplos anteriores sobre la Ley General de la Seguridad Social (RDL 8/2015).

## REQUISITOS CR칈TICOS:

1. **CITAS TEXTUALES OBLIGATORIAS:**
   - SIEMPRE entre comillas la parte relevante del art칤culo
   - Referencia exacta: "art칤culo X.Y" o "art칤culo X, apartado Y"
   - Si hay letra: "art칤culo X.Y.z)"

2. **MOTIVACIONES ESTRUCTURA OBLIGATORIA:**
   Formato: "El art칤culo X.Y del RDL 8/2015 establece [textualmente/que]: '[CITA EXACTA]'. 
   [Explicaci칩n de por qu칠 la respuesta A es correcta].
   La opci칩n B es incorrecta porque [raz칩n espec칤fica con referencia si aplica].
   La opci칩n C es incorrecta porque [raz칩n espec칤fica].
   La opci칩n D es incorrecta porque [raz칩n espec칤fica]."

3. **OPCIONES INCORRECTAS REALISTAS:**
   - Basadas en confusiones reales (ej: 38 a침os vs 37 a침os vs 36 a침os)
   - Datos de art칤culos relacionados pero diferentes
   - Normativa anterior derogada
   - Casos l칤mite o excepciones

4. **TEMAS A CUBRIR (distribuir uniformemente):**
   - Afiliaci칩n (Art. 13-17, 74-125)
   - Cotizaci칩n (Art. 129-145)  
   - Jubilaci칩n (Art. 199-216)
   - Incapacidad Temporal/Permanente (Art. 128-151)
   - Prestaciones (Art. 177-240)
   - Reg칤menes (Art. 6-73)
   - Recaudaci칩n (Art. 146-175)

5. **VERIFICACI칍N:**
   - Antes de responder, verifica que CADA motivaci칩n incluya al menos una cita entrecomillada
   - Verifica que CADA opci칩n incorrecta tenga su raz칩n espec칤fica de error
   - Verifica que los n칰meros de art칤culo sean plausibles (RDL 8/2015 tiene 355 art칤culos)

FORMATO JSON:
[{
  "pregunta": "...",
  "opciones": ["a) ...", "b) ...", "c) ...", "d) ..."],
  "respuestaCorrecta": 0,
  "explicacion": "...",
  "dificultad": "media"
}]

SOLO responde con el JSON. Sin texto adicional.
`

export const PROMPT_MEJORADO_TEMAGENERAL = (
  temaNumero: number,
  temaTitulo: string,
  temaDescripcion: string,
  categoria: string,
  numPreguntas: number,
  preguntasExistentes: string[] = []
) => {
  let seccionPreguntasExistentes = ''
  if (preguntasExistentes.length > 0) {
    const preguntasMostrar = preguntasExistentes.slice(0, 50)
    seccionPreguntasExistentes = `

丘멆잺 PREGUNTAS YA EXISTENTES DE ESTE TEMA (${preguntasExistentes.length} en total):
${preguntasMostrar.map((p, i) => `${i + 1}. ${p}`).join('\n')}
${preguntasExistentes.length > 50 ? '\n... y ' + (preguntasExistentes.length - 50) + ' m치s.' : ''}

游뛂 IMPORTANTE: NO REPITAS ni REFORMULES ninguna de estas preguntas existentes.
Genera preguntas COMPLETAMENTE NUEVAS sobre aspectos diferentes del tema.
`
  }

  return `
${EJEMPLOS_PREGUNTAS_OFICIALES}

---

## TU TAREA

Genera ${numPreguntas} preguntas ID칄NTICAS en estilo y rigor a los ejemplos anteriores sobre:

**Tema ${temaNumero}: ${temaTitulo}**
**Categor칤a:** ${categoria === 'general' ? 'Temario General' : 'Temario Espec칤fico'}
**Descripci칩n:** ${temaDescripcion}
${seccionPreguntasExistentes}

## REQUISITOS CR칈TICOS:

1. **NORMATIVA APLICABLE seg칰n el tema:**
   - Si es Constituci칩n: art칤culos de la CE 1978
   - Si es Administraci칩n: Ley 40/2015, Ley 39/2015
   - Si es Funci칩n P칰blica: EBEP (Ley 7/2007)
   - Si es Laboral: Estatuto de los Trabajadores
   - Si es UE: Tratados, Reglamentos espec칤ficos

2. **CITAS TEXTUALES OBLIGATORIAS:**
   - SIEMPRE entrecomillar la parte relevante del art칤culo
   - Usar nomenclatura oficial: "art칤culo X de la Ley Y"
   - Incluir rango normativo completo la primera vez

3. **MOTIVACIONES - ESTRUCTURA OBLIGATORIA:**
   CADA EXPLICACI칍N DEBE SEGUIR ESTE FORMATO:
   - Cita del art칤culo con texto entrecomillado
   - Explicaci칩n de por qu칠 la opci칩n correcta lo es
   - Explicaci칩n de por qu칠 CADA opci칩n incorrecta lo es (con referencias si aplica)

4. **DISTRACTORES REALISTAS:**
   - Basados en confusiones comunes (ej: mayor칤as parlamentarias)
   - Datos correctos pero de otro art칤culo/ley
   - Supuestos de normativa anterior o derogada
   - Casos excepcionales presentados como regla general

5. **ESTILO DE EXAMEN OFICIAL:**
   - Lenguaje formal: "Conforme a", "Seg칰n", "De acuerdo con"
   - Datos espec칤ficos y concretos (plazos, porcentajes, n칰meros)
   - Opciones equilibradas en longitud
   - Respuesta inequ칤voca con la normativa

FORMATO JSON:
[{
  "pregunta": "...",
  "opciones": ["a) ...", "b) ...", "c) ...", "d) ..."],
  "respuestaCorrecta": 0,
  "explicacion": "...",
  "dificultad": "media"
}]

SOLO responde con el JSON. Sin texto adicional.
`
}
